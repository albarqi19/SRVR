# ๐ฏ ุนุฑุถ ุชูุถูุญู ุดุงูู ูู API ุฌูุณุงุช ุงูุชุณููุน

## โ๏ธ ููุทุฉ ูููุฉ: ุงุณุชุฎุฏุงู session_id ุงูุตุญูุญ

### ุงููุดููุฉ ุงูุชู ุชู ุญููุง:
- **ุฎุทุฃ ุดุงุฆุน**: ูุญุงููุฉ ุงููุตูู ููุฌูุณุฉ ุจุงุณุชุฎุฏุงู `id` ุงูุนุงุฏู (ูุซู 55)
- **ุงูุญู ุงูุตุญูุญ**: ุงุณุชุฎุฏุงู `session_id` ุงููุฑูุฏ (ูุซู `RS-20250609-065231-0001`)

### ูุซุงู ุนูู ุงููุฑู:
```bash
# โ ุฎุทุฃ - ุงุณุชุฎุฏุงู database id
curl -X GET "http://127.0.0.1:8000/api/recitation/sessions/55"
# ุงููุชูุฌุฉ: {"success":false,"message":"ุฌูุณุฉ ุงูุชุณููุน ุบูุฑ ููุฌูุฏุฉ"}

# โ ุตุญูุญ - ุงุณุชุฎุฏุงู session_id
curl -X GET "http://127.0.0.1:8000/api/recitation/sessions/RS-20250609-065231-0001"
# ุงููุชูุฌุฉ: ุชูุงุตูู ุงูุฌูุณุฉ ูุงููุฉ ูุน ุงูุฃุฎุทุงุก
```

---

## ๐ ุงูุนุฑุถ ุงูุชูุถูุญู ุงููุงูู

### 1. ุงุจุฏุฃ ุงูุฎุงุฏู
```powershell
php artisan serve
```

### 2. ุงุฎุชุจุฑ ุฌูุจ ุฌููุน ุงูุฌูุณุงุช
```powershell
curl.exe -X GET "http://127.0.0.1:8000/api/recitation/sessions" -H "Accept: application/json"
```

### 3. ุงุญุตู ุนูู session_id ูู ูุงุฆูุฉ ุงูุฌูุณุงุช
ูู ุงููุชูุฌุฉุ ุงุจุญุซ ุนู `session_id` ูุซู `RS-20250609-065231-0001`

### 4. ุงุฌูุจ ุฌูุณุฉ ูุฑุฏูุฉ ุจุงุณุชุฎุฏุงู session_id ุงูุตุญูุญ
```powershell
curl.exe -X GET "http://127.0.0.1:8000/api/recitation/sessions/RS-20250609-065231-0001" -H "Accept: application/json"
```

### 5. ุฃูุดุฆ ุฌูุณุฉ ุฌุฏูุฏุฉ
```powershell
curl.exe -X POST "http://127.0.0.1:8000/api/recitation/sessions" `
  -H "Content-Type: application/json" `
  -H "Accept: application/json" `
  -d '{
    "student_id": 1,
    "teacher_id": 1,
    "quran_circle_id": 1,
    "start_surah_number": 3,
    "start_verse": 1,
    "end_surah_number": 3,
    "end_verse": 10,
    "recitation_type": "ุญูุธ",
    "duration_minutes": 15,
    "grade": 8.5,
    "evaluation": "ููุชุงุฒ",
    "teacher_notes": "ุฌูุณุฉ ููุชุงุฒุฉ ุนุจุฑ API"
  }'
```

### 6. ุฃุถู ุฃุฎุทุงุก ููุฌูุณุฉ ุงูุฌุฏูุฏุฉ
ุงุณุชุฎุฏู `session_id` ูู ุงููุชูุฌุฉ ุงูุณุงุจูุฉ:
```powershell
curl.exe -X POST "http://127.0.0.1:8000/api/recitation/errors" `
  -H "Content-Type: application/json" `
  -H "Accept: application/json" `
  -d '{
    "session_id": "SESSION_ID_FROM_PREVIOUS_STEP",
    "errors": [
      {
        "surah_number": 3,
        "verse_number": 5,
        "word_text": "ุงููุชููู",
        "error_type": "ุชุฌููุฏ",
        "correction_note": "ูู ูุชู ุฅุธูุงุฑ ุงูุบูุฉ ุจูุถูุญ",
        "teacher_note": "ุงูุชุฑููุฒ ุนูู ุงูููู ุงูุณุงููุฉ",
        "is_repeated": false,
        "severity_level": "ุฎููู"
      }
    ]
  }'
```

### 7. ุงุญุตู ุนูู ุฅุญุตุงุฆูุงุช ุนุงูุฉ
```powershell
curl.exe -X GET "http://127.0.0.1:8000/api/recitation/stats" -H "Accept: application/json"
```

---

## ๐ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### โ ุฌูุจ ุงูุฌูุณุงุช ุงููุงุฌุญ:
```json
{
  "success": true,
  "data": {
    "current_page": 1,
    "data": [
      {
        "id": 55,
        "session_id": "RS-20250609-065231-0001",
        "student": {
          "name": "ุฃุญูุฏ ุนูู ุงูุจุงุฑูู"
        },
        "teacher": {
          "name": "ูุณุชุฎุฏู ุงูุนุฑุถ ุงูุชูุถูุญู"
        }
      }
    ]
  }
}
```

### โ ุฌูุจ ุฌูุณุฉ ูุฑุฏูุฉ ูุงุฌุญ:
```json
{
  "success": true,
  "data": {
    "id": 55,
    "session_id": "RS-20250609-065231-0001",
    "student": { /* ุชูุงุตูู ุงูุทุงูุจ */ },
    "teacher": { /* ุชูุงุตูู ุงููุนูู */ },
    "circle": { /* ุชูุงุตูู ุงูุญููุฉ */ },
    "errors": [
      {
        "surah_number": 2,
        "verse_number": 10,
        "word_text": "ูุฎุงุฏุนูู",
        "error_type": "ูุทู"
      }
    ]
  }
}
```

### โ ุฅูุดุงุก ุฌูุณุฉ ูุงุฌุญ:
```json
{
  "success": true,
  "data": {
    "session_id": "RS-20250609-HHMMSS-NNNN"
  },
  "message": "ุชู ุฅูุดุงุก ุฌูุณุฉ ุงูุชุณููุน ุจูุฌุงุญ"
}
```

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### โ ุฎุทุฃ 422 - ุจูุงูุงุช ุบูุฑ ุตุงูุญุฉ:
```json
{
  "success": false,
  "message": "ุฎุทุฃ ูู ุงูุจูุงูุงุช ุงููุฏุฎูุฉ",
  "errors": {
    "evaluation": ["The evaluation field is required."]
  }
}
```
**ุงูุญู**: ุชุฃูุฏ ูู ุฅุฑุณุงู ุฌููุน ุงูุญููู ุงููุทููุจุฉ

### โ ุฎุทุฃ 404 - ุฌูุณุฉ ุบูุฑ ููุฌูุฏุฉ:
```json
{
  "success": false,
  "message": "ุฌูุณุฉ ุงูุชุณููุน ุบูุฑ ููุฌูุฏุฉ"
}
```
**ุงูุญู**: ุงุณุชุฎุฏู `session_id` ูููุณ `id`

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ูุนุฑูุงุช ุงูุฌูุณุงุช**: ุงุณุชุฎุฏู ุฏุงุฆูุงู `session_id` (ูุซู `RS-20250609-065231-0001`) ูููุณ `id` ุงูุนุงุฏู
2. **ุงูููู ุงูููุจููุฉ**:
   - `recitation_type`: "ุญูุธ", "ูุฑุงุฌุนุฉ ุตุบุฑู", "ูุฑุงุฌุนุฉ ูุจุฑู", "ุชุซุจูุช"
   - `evaluation`: "ููุชุงุฒ", "ุฌูุฏ ุฌุฏุงู", "ุฌูุฏ", "ููุจูู", "ุถุนูู"
   - `error_type`: "ุชุฌููุฏ", "ูุทู", "ุชุฑุชูู", "ุชุดููู"
   - `severity_level`: "ุฎููู", "ูุชูุณุท", "ุดุฏูุฏ"

3. **ุงูุญููู ุงููุทููุจุฉ**: `student_id`, `teacher_id`, `quran_circle_id`, `evaluation`, `recitation_type`

4. **ุงุฎุชุจุงุฑ ุดุงูู**: ุงุณุชุฎุฏู `php artisan test:recitation-complete --api` ููุงุฎุชุจุงุฑ ุงููุงูู

---

## ๐ฏ ุงูุฎูุงุตุฉ

ูุฐุง API ูุนูู ุจููุงุกุฉ ุนุงููุฉ ููุฏุนู:
- โ ุฅูุดุงุก ุฌูุณุงุช ุงูุชุณููุน
- โ ุฌูุจ ุงูุฌูุณุงุช (ูุงุฆูุฉ ููุฑุฏูุฉ)
- โ ุฅุถุงูุฉ ูุฅุฏุงุฑุฉ ุงูุฃุฎุทุงุก
- โ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ
- โ ุงูุชุตููุฉ ูุงูุจุญุซ

**ุชู ุงูุชุฃูุฏ ูู ุนูู ุฌููุน ุงููุธุงุฆู ุจูุฌุงุญ!** ๐
